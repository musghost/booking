window.onload=function(){(function(){var d=false;$("#booking-process").addClass("active");$("#booking-process li").each(function(e){$(this).addClass(((e+1)%2===0)?"two":"one");
});$("#booking-process li").each(function(e){if(d){if($(this).hasClass("stepPast")){$(this).removeClass("stepPast").addClass("stepFuture");}if($(this).hasClass("stepPast_prevPast")){$(this).removeClass("stepPast_prevPast").addClass("stepFuture_prevFuture");
}if($(this).hasClass("prevPast")){$(this).removeClass("prevPast").addClass("prevFuture");}}if($(this).hasClass("stepCurrent")){d=true;}});})();(function(){$(".ancillary-component").after("<div class='ancillary-information'></div>");
$(".ancillary-component").find(".ancillary-item").each(function(k){var d=$(this).attr("id"),i="",f=$(this).find(".prices-amount").first().clone(),l=$("<div class='ancillary-amount'>"),j=$(this).find(".prices-currency").first().clone(),h=$("<div class='ancillary-currency'>"),g=$(this).find(".ancillary-price-button-add").first().clone(),e=$("<div class='ancillary-body'>");
$(this).css("padding-bottom","130px");$(this).find(".ancillary-image").after("<div class='ancillary-icon ancillary-icon-"+d+"'><i></i></div>");switch(d){case"AMC":i='<div class="ancillary-text"><ul><li>Evita contratiempos en el aeropuerto, ahora puedes pagar de manera anticipada y el exceso de equipaje</li><li>Viaja de manera c&oacute;moda y con todo lo que necesitas.</li><li>Indica cu&aacute;ntaas piezas extras son las que llevar&aacute;s contigo.</li></ul></div>';
break;case"DPM":i='<div class="ancillary-text"><ul><li>¡Disfruta al m&aacute;ximo tu viaje! Lleva contigo tu equipo deportivo.</li><li>Contamos con el mejor sistema de transportaci&oacute;n para el manejo de equipaje especial.</li><li>Selecciona el tipo de equipaje que llevar&iacute;s en tu vuelo.</li></ul></div>';
break;case"BG_PCS":i='<div class="ancillary-text"><ul><li>S&oacute;lo Aerom&eacute;xico te permite viajar con tu mascota a bordo.</li><li>Lleva a tu perro de viaje.</li><li>Disfruta de tus vacaciones a lado de tu mejor amigo.</li></ul></div>';
break;case"AMK":i='<div class="ancillary-text"><ul><li>Una experiencia &uacute;nica al alcance de todos, s&oacute;lo con una llamada consigue servicios exclusivos en el destino al que te dirijas.</li></ul></div>';
break;case"CO2":i='<div class="ancillary-text"><ul><li>Participa, tu donación contribuye a conservar la Selva Maya.</li></ul></div>';break;default:i='<div class="ancillary-text"><ul></ul></div>';
}$(this).find(".ancillary-name").after(i);l.append("<span>$</span>",f);h.append(j);e.append(l,h,g);$(this).find(".ancillary-text").after(e);$(".ancillary-price-widget").css("display","none");
});})();var b=function(){var d=function(i){var h=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],k=i.split("/"),j={};
j.month=h[parseInt(k[1])-1];j.day=parseInt(k[0]);return j;},g=[],f=function(j){var i=$("<div class='flight-info-sidebar'>"),h='<div class="head"><h2><i></i>Información de vuelo</h2></div>';
i.append(h);$.each(j,function(m,l){var k=$("<div class='body'>"),p=$("<h3>"),n=parseInt(l.stopover),o=$("<h3 class='scale'>");if(m===0){p.attr("id","title-search");
}p.html("Voy");k.append(p);$.each(l.destinations,function(r,q){var t=$("<ul class='airp'>"),s=$("<h3 class='date'>");s.html(q.date);t.append("<li><span>"+q.from+"</span><span>"+q.hourDep+"</span></li>");
t.append("<li class='middle'><i></i></li>");t.append("<li><span>"+q.to+"</span><span>"+q.hourArr+"</span></li>");k.append(s);k.append(t);});if(n===0||n<0){o.html("Sin escalas");
}else{if(n==1){o.html("1 escala");}else{o.html(n+" escalas");}}k.append(o);i.append(k);});i.append(e());$("#cart-component").prepend(i);},e=function(){var j=$("<div class='total-price'>"),h=$("<ul>"),i="";
$(".cartPrices").last().find(".price-type").each(function(){var k=$("<li>"),l=$(this).find("span").eq(0).html(),m=$(this).find(".price-value");if(m.length>0){m=$(this).find(".price-value").first().html();
}else{m="";}k.append("<span>"+l+"</span>","<span>"+m+"</span>");h.append(k);});$("#cart-total-price .prices-alternative > span").each(function(k){if(k==1){i+="<span class='amount'>"+$(this).html()+"</span>";
}if(k==0){i+="<span class='currency'>"+$(this).html()+"</span>";}});h.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+i+"</span></li>");
j.append(h);return j;};$(".cart-departing, .cart-arriving").each(function(){var i=[],k=$(this).find("li.city"),l=$(this).find("dd"),h=0,j=k.length-2;k.each(function(n){var r=$(this).clone(),q=k.eq(n-1).clone();
r.children().remove();q.children().remove();r=$.trim(r.html()).substr(1,3);q=$.trim(q.html()).substr(1,3);if(n>0){var p=d(l.eq(h).html().split(" ")[2]),o=l.eq(h++).html().substr(0,7),m=l.eq(h++).html().substr(0,7);
destination={from:q,to:r,date:p.day+", "+p.month,hourDep:o,hourArr:m};i.push(destination);}});departing={stopover:j,destinations:i};g.push(departing);});
f(g);$("#cart-component .flight-info-sidebar").append($("#fare-rules-anchor"));$("#modify-search-trigger").addClass("modify");};$("#cart-component .component-top").append($("#modify-search-trigger"));
b();$("#title-search").append($("#modify-search-trigger"));var a=function(){var e=$("#booking-process li").last();if(!e.hasClass("one")&&!e.hasClass("two")){var d=$("#booking-process li");
d.removeClass("one two");d.each(function(f){$(this).addClass(((f+1)%2===0)?"two":"one");});}if($(".flight-info-sidebar").length<1){$("#cart-component .component-top").append($("#modify-search-trigger"));
b();$("#title-search").append($("#modify-search-trigger"));}c=setTimeout(function(){a();},300);};var c=setTimeout(function(){a();},300);};