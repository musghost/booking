window.onload=function(){(function(){$("#booking-process").addClass("active");$("#booking-process li").each(function(d){$(this).addClass(((d+1)%2===0)?"two":"one");
});$(".seat-map-planemap tr").each(function(d){$(this).find("td").each(function(e){var f=$(this).find("strong").first();if(f.children().length>0){if(e===0){f.html("<img src='https://s3.amazonaws.com/aeromexico/ancillaries/new_v_exitleft.png'>");
}else{f.html("<img src='https://s3.amazonaws.com/aeromexico/ancillaries/new_v_exitright.png'>");}}});});$(".flight-controls").first().hide();$(".seat-map-plane").first().after($(".seat-map-header-links").first());
var b=function(){var h=[],f=[],q=$(".cart-pax span").eq(1).html(),e=function(t){var i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],v=t.split("/"),u={};
u.month=i[parseInt(v[1])-1];u.day=parseInt(v[0]);return u;};$("#cart_itinerariesDetails .cart-departing .cart_itinerariesDetails_itinerary .city").each(function(u){var i={},w=$(this).next().find("dd").first().html().split(" "),t=w[0],y=w[2],v=$(this).clone();
v.children().remove();var x=$.trim(v.html());i.date=y;i.hour=t;i.city=x.substr(1,3);console.log(y,t,x);h.push(i);});$("#cart_itinerariesDetails .cart-arriving .cart_itinerariesDetails_itinerary .city").each(function(u){var i={},w=$(this).next().find("dd").first().html().split(" "),t=w[0],y=w[2],v=$(this).clone();
v.children().remove();var x=$.trim(v.html());i.date=y;i.hour=t;i.city=x.substr(1,3);f.push(i);});$("#cart-component").prepend('<div class="flight-info-sidebar"><div class="head"><h2><i></i>Informaci&oacute;n de vuelo</h2></div><div class="total-price"><ul></ul></div></div>');
var k=$("<div class='body'>"),o=new Date(),r=o.getFullYear(),d=$("#modify-search-trigger").clone(),n=$("<h3>");$("#modify-search-trigger").remove();d.addClass("modify");
n.append("Voy",d);k.append(n);for(var g=0;g<h.length-1;g++){var l='<h3 class="date">'+e(h[g]["date"])["day"]+" "+e(h[g]["date"])["month"]+", "+r+"</h3>",p=$("<ul class='airp'>");
p.append("<li><span>"+h[g]["city"]+"</span><span>"+h[g]["hour"]+"</span></li><li class='middle'><i></i></li><li><span>"+h[g+1]["city"]+"</span><span>"+h[g+1]["hour"]+"</span></li>");
k.append(l,p);}if(h.length>2){k.append("<h3 class='scale'>"+(h.length-1)+" escalas</h3><h3 class='passenger'>"+q+" pasajeros</h3>");}else{k.append("<h3 class='scale'>Sin escalas</h3><h3 class='passenger'>"+q+" pasajeros</h3>");
}var s=$("<div class='body'>"),o=new Date(),r=o.getFullYear();s.append("<h3>Vuelvo</h3>");for(var g=0;g<f.length-1;g++){var l='<h3 class="date">'+e(f[g]["date"])["day"]+" "+e(f[g]["date"])["month"]+", "+r+"</h3>",p=$("<ul class='airp'>");
p.append("<li><span>"+f[g]["city"]+"</span><span>"+f[g]["hour"]+"</span></li><li class='middle'><i></i></li><li><span>"+f[g+1]["city"]+"</span><span>"+f[g+1]["hour"]+"</span></li>");
s.append(l,p);}if(f.length>2){s.append("<h3 class='scale'>"+(f.length-1)+" escalas</h3><h3 class='passenger'>"+q+" pasajeros</h3>");}else{s.append("<h3 class='scale'>Sin escalas</h3><h3 class='passenger'>"+q+" pasajeros</h3>");
}s.append('<ul class="info"><li><i class="mercury"></i><span>32º</span></li><li><i class="wind"></i><span>18<sub>km/h</sub></span></li><li><i class="water"></i><span>27%</span></li></ul>');
$("#cart-component .flight-info-sidebar .head").first().after(k,s);var m=$("#cart-component .flight-info-sidebar .total-price ul").first(),j="";$(".cartPrices").last().find(".price-type").each(function(){var i=$("<li>"),t=$(this).find("span").eq(0).html(),u=$(this).find(".price-value");
if(u.length>0){u=$(this).find(".price-value").first().html();}else{u="";}i.append("<span>"+t+"</span>","<span>"+u+"</span>");m.append(i);});$("#cart-total-price .prices-alternative > span").each(function(i){if(i==1){return false;
}j+=$(this).html();});m.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+j+"</span></li>");},a=function(){var d='<div class="columns"><ul class="list"><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_avail.png"><span>Disponible</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_assigned_n.png"><span>No disponible</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_upperDeck.png"><span>Cubierta Superior Disponible</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_limited.png"><span>Reclinación y espacio limitado</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_exitleft.png"><span>Sala de emergencia</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_wallleft.png"><span>Pared</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_wallleft_w.png"><span>Ala</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_bulkhead.png"><span>Mampara</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_closet.png"><span>Armario</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_galley.png"><span>Cocina</span></li><li><img src="https://s3.amazonaws.com/aeromexico/ancillaries/new_v_lavatory.png"><span>Lavabo</span></li></ul></div>';
if($(".seat-map-flights-expanded .bait").length<1){$(".seat-box, .flight-info-sidebar").remove();b();var f=$('<div class="seat-box">'),e=$("<div class='columns'>");
$(".seat-map-flights-expanded").each(function(g){var j=$(this).find(".seat-map-segment").first(),i=j.find(".seat-map-flights-date").first().html(),h="";
j.find(".seat-map-flights-segment span").each(function(){h+=$.trim($(this).html())+" ";});e.append("<h2>"+h+"</h2>","<h3>"+i+"</h3>",'<a href="#" class="info"><i></i>Más información de este vuelo</a>');
if(!$(this).hasClass("seat-map-flights-collapsed")){$(this).find(".seat-map-flights-pax").each(function(){var n=$(this).find(".seat-map-flights-pax-name").first().html(),m=$(this).find(".seat-map-flights-place-no").first().html(),k=$(this).find(".seat-map-flights-place-no").first(),p=$(this).find(".prices-amount").first().html(),l=$(this).find(".prices-currency").first().html();
p=(typeof p==="undefined")?"0":p;l=(typeof l==="undefined")?"":l;var o="<h1>"+n+'</h1><ul class="seat-info"><li><span class="title">Asiento</span><span class="number">'+m+'</span></li><li><span class="title">Tarifa de asiento</span><p><span class="currency">$</span><span class="amount">'+p+"</span></p><span>"+l+"</span></li></ul>";
k.prepend("<i class='bait'></i>");e.append(o);});}});f.append(e,d);$(".seat-map-header").first().append(f);}c=setTimeout(function(){a();},300);},c=setTimeout(function(){a();
},300);})();};