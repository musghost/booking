window.onload=function(){(function(){var d=$(".seat-map-keys").first(),g=$(".seat-map-invocation").first(),b=$(".seat-map-footer-links").first(),f=$("#flight-list-infobox");
g.after(d);f.append(b);$("#booking-process").addClass("active");$("#booking-process li").each(function(h){$(this).addClass(((h+1)%2===0)?"two":"one");});
$(".seat-map-flights-list").each(function(){$(this).html("<span class='seat-map-text-info'>M&aacute;s informaci&oacute;n de este vuelo</span>");});$(".seat-map-flights-pax-name").after("<div class='seat-labels'><span class='num-seat-label'>Asiento</span><span class='price-seat-label'>Tarifa de asiento</span></div>");
$(".seat-map-header-links").hide();$(".seat-map-planemap tr").each(function(h){$(this).find("td").each(function(i){var j=$(this).find("strong").first();
if(j.children().length>0){if(i===0){j.html("<img src='https://s3.amazonaws.com/aeromexico/ancillaries/new_v_exitleft.png'>");}else{j.html("<img src='https://s3.amazonaws.com/aeromexico/ancillaries/new_v_exitright.png'>");
}}});});var c=function(){var h=function(m){var l=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],o=m.split("/"),n={};
n.month=l[parseInt(o[1])-1];n.day=parseInt(o[0]);return n;},k=[],j=function(n){var m=$("<div class='flight-info-sidebar'>"),l='<div class="head"><h2><i></i>Informaci√≥n de vuelo</h2></div>';
m.append(l);$.each(n,function(q,p){var o=$("<div class='body'>"),t=$("<h3>"),r=parseInt(p.stopover),s=$("<h3 class='scale'>");if(q===0){t.attr("id","title-search");
}t.html("Voy");o.append(t);$.each(p.destinations,function(v,u){var x=$("<ul class='airp'>"),w=$("<h3 class='date'>");w.html(u.date);x.append("<li><span>"+u.from+"</span><span>"+u.hourDep+"</span></li>");
x.append("<li class='middle'><i></i></li>");x.append("<li><span>"+u.to+"</span><span>"+u.hourArr+"</span></li>");o.append(w);o.append(x);});if(r===0||r<0){s.html("Sin escalas");
}else{if(r==1){s.html("1 escala");}else{s.html(r+" escalas");}}o.append(s);m.append(o);});m.append(i());$("#cart-component").prepend(m);},i=function(){var n=$("<div class='total-price'>"),l=$("<ul>"),m="";
$(".cartPrices").last().find(".price-type").each(function(){var o=$("<li>"),p=$(this).find("span").eq(0).html(),q=$(this).find(".price-value");if(q.length>0){q=$(this).find(".price-value").first().html();
}else{q="";}o.append("<span>"+p+"</span>","<span>"+q+"</span>");l.append(o);});$("#cart-total-price .prices-alternative > span").each(function(o){if(o==1){m+="<span class='amount'>"+$(this).html()+"</span>";
}if(o==0){m+="<span class='currency'>"+$(this).html()+"</span>";}});l.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+m+"</span></li>");
n.append(l);return n;};$(".cart-departing, .cart-arriving").each(function(){var m=[],o=$(this).find("li.city"),p=$(this).find("dd"),l=0,n=o.length-2;o.each(function(r){var v=$(this).clone(),u=o.eq(r-1).clone();
v.children().remove();u.children().remove();v=$.trim(v.html()).substr(1,3);u=$.trim(u.html()).substr(1,3);if(r>0){var t=h(p.eq(l).html().split(" ")[2]),s=p.eq(l++).html().substr(0,7),q=p.eq(l++).html().substr(0,7);
destination={from:u,to:v,date:t.day+", "+t.month,hourDep:s,hourArr:q};m.push(destination);}});departing={stopover:n,destinations:m};k.push(departing);});
j(k);$("#cart-component .flight-info-sidebar").append($("#fare-rules-anchor"));$("#modify-search-trigger").addClass("modify");},a=function(){if($(".flight-info-sidebar").length<1){$("#cart-component .component-top").append($("#modify-search-trigger"));
c();$("#title-search").append($("#modify-search-trigger"));}e=setTimeout(function(){a();},100);};var e=setTimeout(function(){a();},100);})();};