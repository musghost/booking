window.onload=function(){(function(){var e=false;$("#booking-process").addClass("active");$("#booking-process li").each(function(f){$(this).addClass(((f+1)%2===0)?"two":"one");
});$("#booking-process li").each(function(f){if(e){if($(this).hasClass("stepPast")){$(this).removeClass("stepPast").addClass("stepFuture");}if($(this).hasClass("stepPast_prevPast")){$(this).removeClass("stepPast_prevPast").addClass("stepFuture_prevFuture");
}if($(this).hasClass("prevPast")){$(this).removeClass("prevPast").addClass("prevFuture");}}if($(this).hasClass("stepCurrent")){e=true;}});})();$(".flight-info").each(function(e){if(e===0){$(this).prepend("<span class='step'>A</span>");
}else{$(this).prepend("<span class='step'>B</span>");}});$(".flight-info h2").eq(0).html("Opciones del vuelo de salida");$(".flight-info h2").eq(1).html("Opciones del vuelo de regreso");
var c=[];$(".flight-info dl").each(function(){var h=$(this).find("dd").clone();h.children().remove();var g=$.trim(h.eq(0).html()),e=$.trim(h.eq(1).html()),f={};
f.nodea=g.substr(1,3);f.nodeb=e.substr(1,3);c.push(f);});var b=function(){var e=function(j){var i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],l=j.split("/"),k={};
k.month=i[parseInt(l[1])-1];k.day=parseInt(l[0]);return k;},h=[],g=function(m){var l=$("<div class='flight-info-sidebar'>"),j='<div class="head"><h2><i></i>Informaci√≥n de vuelo</h2></div>',i=$(".component-section.cart-pax").find("span"),k="",n=$("<h3 class='passenger'>");
i.each(function(o){if(o===0||o===1){k+=$(this).html();}});n.html(k);l.append(j);$.each(m,function(q,p){var o=$("<div class='body'>"),t=$("<h3>"),r=parseInt(p.stopover),s=$("<h3 class='scale'>");
if(q===0){t.attr("id","title-search");}t.html(p.actionTo);o.append(t);$.each(p.destinations,function(v,u){var x=$("<ul class='airp'>"),w=$("<h3 class='date'>");
w.html(u.date);x.append("<li><span>"+u.from+"</span><span>"+u.hourDep+"</span></li>");x.append("<li class='middle'><i></i></li>");x.append("<li><span>"+u.to+"</span><span>"+u.hourArr+"</span></li>");
o.append(w);o.append(x);});if(r===0||r<0){s.html("Sin escalas");}else{if(r==1){s.html("1 escala");}else{s.html(r+" escalas");}}o.append(s);l.append(o);
});l.append(n);l.append(f());$("#cart-component").prepend(l);},f=function(){var k=$("<div class='total-price'>"),i=$("<ul>"),j="";$(".cartPrices").last().find(".price-type").each(function(){var l=$("<li>"),n=$(this).find("span").eq(0).html(),o=$(this).find(".price-value"),m=$(this).find(".toggler a").first().html(),q=$("<a href='#' class='view-details'>"),p=$(this).find(".price-element-details").first().clone(),s=$("<span>"),r=$("<span>");
if(o.length>0){o=$(this).find(".price-value").first().html();}else{o="";}q.append(m,"<span class='more-less'>&nbsp;+</span>");s.append(n,q);r.html(o);l.append(s,r,p);
i.append(l);q.click(function(t){t.preventDefault();var u=$(this).parent().parent().find("ol").first(),y=$(this),x=$(this).find(".more-less");if(u.hasClass("hidden-low-prior")){u.removeClass("hidden-low-prior");
x.html("&nbsp;-");var w=window.innerHeight-$("#footer").height(),v=$("#cart-component").offset().top+$("#cart-component").height();console.log("Screen: "+w+", totalHeight: "+v);
if(w<v){var z=$("#ROOT").height()-$("#footer").height()-$("#cart-component").height();$("#cnt_4").css({position:"relative",top:z+"px"});}}else{u.addClass("hidden-low-prior");
x.html("&nbsp;+");}});});$("#cart-total-price .prices-alternative > span").each(function(l){if(l==1){j+="<span class='amount'>"+$(this).html()+"</span>";
}if(l==0){j+="<span class='currency'>"+$(this).html()+"</span>";}});i.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+j+"</span></li>");
k.append(i);return k;};$(".cart-departing, .cart-arriving").each(function(){var j=[],m=$(this).find("li.city"),n=$(this).find("dd"),i=0,l=$(this).find("h4").first().html(),k=m.length-2;
m.each(function(p){var t=$(this).clone(),s=m.eq(p-1).clone();t.children().remove();s.children().remove();t=$.trim(t.html()).substr(1,3);s=$.trim(s.html()).substr(1,3);
if(p>0){var r=e(n.eq(i).html().split(" ")[2]),q=n.eq(i++).html().substr(0,7),o=n.eq(i++).html().substr(0,7);destination={from:s,to:t,date:r.day+", "+r.month,hourDep:q,hourArr:o};
j.push(destination);}});departing={stopover:k,destinations:j,actionTo:l};h.push(departing);});g(h);$("#modify-search-trigger").addClass("modify");};var a=function(){var f=$("#booking-process li").last();
if($("#dtcontainer-multicity ul.airp").length<1){$("#dtcontainer-multicity table tr").each(function(q){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(q===0){var h=$(this).find("th");h.slice(2,8).hide();}else{var k=$(this).find("td");k.slice(2,8).hide();var p=k.eq(3).find("span").eq(1).html(),o=k.eq(4).find("span").eq(1).html(),i=k.eq(3).find("span").eq(0).html(),g=k.eq(4).find("span").eq(0).html(),j=$.trim(k.eq(5).html()),n=parseInt(j);
var m=$("<ul class='airp'>"),l=$('<h3 class="scale">');m.html("<li><span>"+i+"</span><span>"+p+'</span></li><li class="middle"><i></i></li><li><span>'+g+"</span><span>"+o+"</span></li>");
if(n===0||n<0){l.html("Sin escalas");}else{if(n===1){l.html(n+" escala");}else{l.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-both-row"){$(this).remove();
return;}k.eq(1).prepend(m,l);$(this).find("a").each(function(){var r=$(this).html();$(this).addClass("info-plus").html("<i></i><span>Additional information ("+r+")</span>");
});}});}if($("#dtcontainer-outbounds ul.airp").length<1){$("#dtcontainer-outbounds table tr").each(function(p){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(p===0){var g=$(this).find("th");g.eq(1).hide();g.eq(2).hide();g.eq(3).hide();g.eq(4).hide();g.eq(5).hide();g.eq(0).width("190px");}else{var i=$(this).find("td");
i.eq(5).hide();i.eq(4).hide();i.eq(1).hide();i.eq(2).hide();i.eq(3).hide();var o=i.eq(2).find("span").html(),m=i.eq(3).find("span").html(),h=$.trim(i.eq(4).html()),n=parseInt(h);
var l=$("<ul class='airp'>"),k=$('<h3 class="scale">');l.html("<li><span>"+c[0]["nodea"]+"</span><span>"+o+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+m+"</span></li>");
if(n===0||n<0){k.html("Sin escalas");}else{if(n===1){k.html(n+" escala");}else{k.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-outbound-row"){$(this).remove();
return;}i.eq(0).prepend(l,k);var j=$(this).find("a").html();$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo ("+j+")</span>");
}});$("#cart-component .component-top").append($("#fare-rules-anchor"),$("#modify-search-trigger"));$(".flight-info-sidebar").remove();b();$(".flight-info-sidebar").first().append($("#fare-rules-anchor"));
$("#title-search").append($("#modify-search-trigger"));}if($("#dtcontainer-inbounds ul.airp").length<1){$("#dtcontainer-inbounds table tr").each(function(p){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(p===0){var g=$(this).find("th");g.eq(1).hide();g.eq(2).hide();g.eq(3).hide();g.eq(4).hide();g.eq(5).hide();g.eq(0).width("190px");}else{var i=$(this).find("td");
i.eq(5).hide();i.eq(4).hide();i.eq(1).hide();i.eq(2).hide();i.eq(3).hide();var o=i.eq(2).find("span").html(),m=i.eq(3).find("span").html(),h=$.trim(i.eq(4).html()),n=parseInt(h);
var l=$("<ul class='airp'>"),k=$('<h3 class="scale">');l.html("<li><span>"+c[0]["nodeb"]+"</span><span>"+o+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodea"]+"</span><span>"+m+"</span></li>");
if(n===0||n<0){k.html("Sin escalas");}else{if(n===1){k.html(n+" escala");}else{k.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-inbound-row"){$(this).remove();
return;}i.eq(0).prepend(l,k);var j=$(this).find("a").html();$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo ("+j+")</span>");
}});$("#cart-component .component-top").append($("#fare-rules-anchor"),$("#modify-search-trigger"));$(".flight-info-sidebar").remove();b();$(".flight-info-sidebar").first().append($("#fare-rules-anchor"));
$("#title-search").append($("#modify-search-trigger"));}if($("#dtcontainer-both ul.airp").length<1){$("#dtcontainer-both table tr").each(function(p){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(p===0){var g=$(this).find("th");g.eq(1).hide();g.eq(2).hide();g.eq(3).hide();g.eq(4).hide();g.eq(5).hide();g.eq(0).width("190px");}else{var i=$(this).find("td");
i.eq(5).hide();i.eq(4).hide();i.eq(1).hide();i.eq(2).hide();i.eq(3).hide();var o=i.eq(2).find("span").html(),m=i.eq(3).find("span").html(),h=$.trim(i.eq(4).html()),n=parseInt(h);
var l=$("<ul class='airp'>"),k=$('<h3 class="scale">');l.html("<li><span>"+c[0]["nodea"]+"</span><span>"+o+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+m+"</span></li>");
if(n===0||n<0){k.html("Sin escalas");}else{if(n===1){k.html(n+" escala");}else{k.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-both-row"){$(this).remove();
return;}i.eq(0).prepend(l,k);var j=$(this).find("a").html();$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo ("+j+")</span>");
}});}if(!f.hasClass("one")&&!f.hasClass("two")){var e=$("#booking-process li");e.removeClass("one two");e.each(function(g){$(this).addClass(((g+1)%2===0)?"two":"one");
});}d=setTimeout(function(){a();},300);},d=setTimeout(function(){a();},300);(function(){$(".seats-remaining").each(function(){var e=$(this).html().split(" ")[0];
$(this).html("!S&oacute;lo quedan "+e+"!");});$("#customhtmlDisclosure").prepend("<i></i>");})();(function(){$(".ancillary-component").find(".ancillary-item").each(function(e){var f=$(this).attr("id");
$(this).find(".ancillary-image").after("<div class='ancillary-icon ancillary-icon-"+f+"'><i></i></div>");});})();};