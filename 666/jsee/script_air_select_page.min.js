window.onload=function(){(function(){var e=false;$("#booking-process").addClass("active");$("#booking-process li").each(function(f){$(this).addClass(((f+1)%2===0)?"two":"one");
});$("#booking-process li").each(function(f){if(e){if($(this).hasClass("stepPast")){$(this).removeClass("stepPast").addClass("stepFuture");}if($(this).hasClass("stepPast_prevPast")){$(this).removeClass("stepPast_prevPast").addClass("stepFuture_prevFuture");
}if($(this).hasClass("prevPast")){$(this).removeClass("prevPast").addClass("prevFuture");}}if($(this).hasClass("stepCurrent")){e=true;}});})();$(".flight-info").each(function(e){if(e===0){$(this).prepend("<span class='step'>A</span>");
}else{$(this).prepend("<span class='step'>B</span>");}});$(".flight-info h2").eq(0).html("Opciones del vuelo de salida");$(".flight-info h2").eq(1).html("Opciones del vuelo de regreso");
var c=[];$(".flight-info dl").each(function(){var h=$(this).find("dd").clone();h.children().remove();var g=$.trim(h.eq(0).html()),e=$.trim(h.eq(1).html()),f={};
f.nodea=g.substr(1,3);f.nodeb=e.substr(1,3);c.push(f);});var b=function(){var f=function(k){var j=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],m=k.split("/"),l={};
l.month=j[parseInt(m[1])-1];l.day=parseInt(m[0]);return l;},e=function(){var o=window.innerHeight,k=o-$("#footer").height(),j=$("#cart-component").height(),n=$("body").scrollTop(),l=$("#ROOT").height();
if(k<j){var m=window.innerHeight-$("#cnt_4").height();if(n>=(l-o-150)){m-=90;$("#cnt_4").css({position:"fixed",top:m+"px"});}else{$("#cnt_4").css({position:"fixed",top:m+"px"});
}}},i=[],h=function(n){var m=$("<div class='flight-info-sidebar'>"),k='<div class="head"><h2><i></i>Informaci√≥n de vuelo</h2></div>',j=$(".component-section.cart-pax").find("span"),l="",o=$("<h3 class='passenger'>");
j.each(function(p){if(p===0||p===1){l+=$(this).html();}});o.html(l);m.append(k);$.each(n,function(r,q){var p=$("<div class='body'>"),u=$("<h3>"),s=parseInt(q.stopover),t=$("<h3 class='scale'>");
if(r===0){u.attr("id","title-search");}u.html(q.actionTo);p.append(u);$.each(q.destinations,function(w,v){var y=$("<ul class='airp'>"),x=$("<h3 class='date'>");
x.html(v.date);y.append("<li><span>"+v.from+"</span><span>"+v.hourDep+"</span></li>");y.append("<li class='middle'><i></i></li>");y.append("<li><span>"+v.to+"</span><span>"+v.hourArr+"</span></li>");
p.append(x);p.append(y);});if(s===0||s<0){t.html("Sin escalas");}else{if(s==1){t.html("1 escala");}else{t.html(s+" escalas");}}p.append(t);m.append(p);
});m.append(o);m.append(g());$("#cart-component").prepend(m);},g=function(){var l=$("<div class='total-price'>"),j=$("<ul>"),k="";$(".cartPrices").last().find(".price-type").each(function(){var m=$("<li>"),o=$(this).find("span").eq(0).html(),p=$(this).find(".price-value"),n=$(this).find(".toggler a").first().html(),r=$("<a href='#' class='view-details'>"),q=$(this).find(".price-element-details").first().clone(),t=$("<span>"),s=$("<span>");
if(p.length>0){p=$(this).find(".price-value").first().html();}else{p="";}r.append(n,"<span class='more-less'>&nbsp;+</span>");t.append(o,r);s.html(p);m.append(t,s,q);
j.append(m);r.click(function(u){u.preventDefault();var v=$(this).parent().parent().find("ol").first(),x=$(this),w=$(this).find(".more-less");if(v.hasClass("hidden-low-prior")){v.removeClass("hidden-low-prior");
w.html("&nbsp;-");e();}else{v.addClass("hidden-low-prior");w.html("&nbsp;+");}});});$("#cart-total-price .prices-alternative > span").each(function(m){if(m==1){k+="<span class='amount'>"+$(this).html()+"</span>";
}if(m==0){k+="<span class='currency'>"+$(this).html()+"</span>";}});j.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+k+"</span></li>");
l.append(j);return l;};$(".cart-departing, .cart-arriving").each(function(){var p=[],q=$(this).find("li.city"),j=$(this).find("dd"),o=0,n=$(this).find("h4").first().html(),m=$(this).find("li.number"),k=q.length-2;
var l=m.contents().filter(function(){return this.nodeType===3;});try{console.log("FLIGHTNUMBER:"+l.html());}catch(r){}q.each(function(t){var x=$(this).clone(),w=q.eq(t-1).clone();
x.children().remove();w.children().remove();x=$.trim(x.html()).substr(1,3);w=$.trim(w.html()).substr(1,3);if(t>0){var v=f(j.eq(o).html().split(" ")[2]),u=j.eq(o++).html().substr(0,7),s=j.eq(o++).html().substr(0,7);
destination={from:w,to:x,date:v.day+", "+v.month,hourDep:u,hourArr:s};p.push(destination);}});departing={stopover:k,destinations:p,actionTo:n};i.push(departing);
});h(i);$("#modify-search-trigger").addClass("modify");};var a=function(){var f=$("#booking-process li").last();if($("#dtcontainer-multicity ul.airp").length<1){$("#dtcontainer-multicity table tr").each(function(q){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(q===0){var h=$(this).find("th");h.slice(2,8).hide();}else{var k=$(this).find("td");k.slice(2,8).hide();var p=k.eq(3).find("span").eq(1).html(),o=k.eq(4).find("span").eq(1).html(),i=k.eq(3).find("span").eq(0).html(),g=k.eq(4).find("span").eq(0).html(),j=$.trim(k.eq(5).html()),n=parseInt(j);
var m=$("<ul class='airp'>"),l=$('<h3 class="scale">');m.html("<li><span>"+i+"</span><span>"+p+'</span></li><li class="middle"><i></i></li><li><span>'+g+"</span><span>"+o+"</span></li>");
if(n===0||n<0){l.html("Sin escalas");}else{if(n===1){l.html(n+" escala");}else{l.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-both-row"){$(this).remove();
return;}k.eq(1).prepend(m,l);$(this).find("a").each(function(){var r=$(this).html();$(this).addClass("info-plus").html("<i></i><span>Additional information ("+r+")</span>");
});}});}if($("#dtcontainer-outbounds ul.airp").length<1){$("#dtcontainer-outbounds table tr").each(function(p){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(p===0){var g=$(this).find("th");g.eq(1).hide();g.eq(2).hide();g.eq(3).hide();g.eq(4).hide();g.eq(5).hide();g.eq(0).width("190px");}else{var i=$(this).find("td");
i.eq(5).hide();i.eq(4).hide();i.eq(1).hide();i.eq(2).hide();i.eq(3).hide();var o=i.eq(2).find("span").html(),m=i.eq(3).find("span").html(),h=$.trim(i.eq(4).html()),n=parseInt(h);
var l=$("<ul class='airp'>"),k=$('<h3 class="scale">');l.html("<li><span>"+c[0]["nodea"]+"</span><span>"+o+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+m+"</span></li>");
if(n===0||n<0){k.html("Sin escalas");}else{if(n===1){k.html(n+" escala");}else{k.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-outbound-row"){$(this).remove();
return;}i.eq(0).prepend(l,k);var j=$(this).find("a").html();$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo ("+j+")</span>");
}});$("#cart-component .component-top").append($("#fare-rules-anchor"),$("#modify-search-trigger"));$(".flight-info-sidebar").remove();b();$(".flight-info-sidebar").first().append($("#fare-rules-anchor"));
$("#title-search").append($("#modify-search-trigger"));}if($("#dtcontainer-inbounds ul.airp").length<1){$("#dtcontainer-inbounds table tr").each(function(p){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(p===0){var g=$(this).find("th");g.eq(1).hide();g.eq(2).hide();g.eq(3).hide();g.eq(4).hide();g.eq(5).hide();g.eq(0).width("190px");}else{var i=$(this).find("td");
i.eq(5).hide();i.eq(4).hide();i.eq(1).hide();i.eq(2).hide();i.eq(3).hide();var o=i.eq(2).find("span").html(),m=i.eq(3).find("span").html(),h=$.trim(i.eq(4).html()),n=parseInt(h);
var l=$("<ul class='airp'>"),k=$('<h3 class="scale">');l.html("<li><span>"+c[0]["nodeb"]+"</span><span>"+o+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodea"]+"</span><span>"+m+"</span></li>");
if(n===0||n<0){k.html("Sin escalas");}else{if(n===1){k.html(n+" escala");}else{k.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-inbound-row"){$(this).remove();
return;}i.eq(0).prepend(l,k);var j=$(this).find("a").html();$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo ("+j+")</span>");
}});$("#cart-component .component-top").append($("#fare-rules-anchor"),$("#modify-search-trigger"));$(".flight-info-sidebar").remove();b();$(".flight-info-sidebar").first().append($("#fare-rules-anchor"));
$("#title-search").append($("#modify-search-trigger"));}if($("#dtcontainer-both ul.airp").length<1){$("#dtcontainer-both table tr").each(function(p){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(p===0){var g=$(this).find("th");g.eq(1).hide();g.eq(2).hide();g.eq(3).hide();g.eq(4).hide();g.eq(5).hide();g.eq(0).width("190px");}else{var i=$(this).find("td");
i.eq(5).hide();i.eq(4).hide();i.eq(1).hide();i.eq(2).hide();i.eq(3).hide();var o=i.eq(2).find("span").html(),m=i.eq(3).find("span").html(),h=$.trim(i.eq(4).html()),n=parseInt(h);
var l=$("<ul class='airp'>"),k=$('<h3 class="scale">');l.html("<li><span>"+c[0]["nodea"]+"</span><span>"+o+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+m+"</span></li>");
if(n===0||n<0){k.html("Sin escalas");}else{if(n===1){k.html(n+" escala");}else{k.html(n+"escalas");}}if($(this).attr("id")==="flight-advisory-both-row"){$(this).remove();
return;}i.eq(0).prepend(l,k);var j=$(this).find("a").html();$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo ("+j+")</span>");
}});}if(!f.hasClass("one")&&!f.hasClass("two")){var e=$("#booking-process li");e.removeClass("one two");e.each(function(g){$(this).addClass(((g+1)%2===0)?"two":"one");
});}d=setTimeout(function(){a();},300);},d=setTimeout(function(){a();},300);(function(){$(".seats-remaining").each(function(){var e=$(this).html().split(" ")[0];
$(this).html("!S&oacute;lo quedan "+e+"!");});$("#customhtmlDisclosure").prepend("<i></i>");})();(function(){$(".ancillary-component").find(".ancillary-item").each(function(e){var f=$(this).attr("id");
$(this).find(".ancillary-image").after("<div class='ancillary-icon ancillary-icon-"+f+"'><i></i></div>");});})();};