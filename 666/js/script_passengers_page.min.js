window.onload=function(){(function(){$("#passenger-accordion").before("<h3 class='capture'><i></i>Fill blank fields</h3>");$("#contact-info").prev().prepend("<i class='info icon'></i>");
(function(){var a=false;$("#booking-process").addClass("active");$("#booking-process li").each(function(b){$(this).addClass(((b+1)%2===0)?"two":"one");
});$("#booking-process li").each(function(b){if(a){if($(this).hasClass("stepPast")){$(this).removeClass("stepPast").addClass("stepFuture");}if($(this).hasClass("stepPast_prevPast")){$(this).removeClass("stepPast_prevPast").addClass("stepFuture_prevFuture");
}if($(this).hasClass("prevPast")){$(this).removeClass("prevPast").addClass("prevFuture");}}if($(this).hasClass("stepCurrent")){a=true;}});})();$(".component.flomes").append("<p>* Indicates required fields</p>");
$(".phone-fields .phone-number.field").each(function(){var a=$(this).find("select").first().val();$(this).find(".requiredIndicatorLabel").html(a);});})();
(function(){var b=function(g){var f=["January","February","March","April","May","June","July","August","September","October","November","December"],i=g.split("/"),h={};
h.month=f[parseInt(i[1])-1];h.day=parseInt(i[0]);return h;},e=[],a=function(){var k=window.innerHeight,g=k-$("#footer").height(),f=$("#cart-component").height(),j=$("body").scrollTop(),h=$("#ROOT").height();
if(g<f){var i=window.innerHeight-$("#cnt_4").height();if(j>=(h-k-150)){i-=90;$("#cnt_4").css({position:"fixed",top:i+"px"});}else{$("#cnt_4").css({position:"fixed",top:i+"px"});
}}},d=function(j){var i=$("<div class='flight-info-sidebar'>"),g='<div class="head"><h2><i></i>Flight Information</h2></div>',f=$(".component-section.cart-pax").find("span"),h="",k=$("<h3 class='passenger'>");
f.each(function(l){if(l===0||l===1){h+=$(this).html();}});k.html(h);i.append(g);$.each(j,function(n,m){var l=$("<div class='body'>"),q=$("<h3>"),o=parseInt(m.stopover),p=$("<h3 class='scale'>");
if(n===0){q.attr("id","title-search");}q.html(m.actionTo);l.append(q);$.each(m.destinations,function(s,r){var u=$("<ul class='airp'>"),t=$("<h3 class='date'>");
t.html(r.date);u.append("<li><span>"+r.from+"</span><span>"+r.hourDep+"</span></li>");u.append("<li class='middle'><i></i></li>");u.append("<li><span>"+r.to+"</span><span>"+r.hourArr+"</span></li>");
l.append(t);l.append(u);});if(o===0||o<0){p.html("Nonstop");}else{if(o==1){p.html("1 layover");}else{p.html(o+" layovers");}}l.append(p);i.append(l);});
i.append(k);i.append(c());$("#cart-component").prepend(i);},c=function(){var h=$("<div class='total-price'>"),f=$("<ul>"),g="";$(".cartPrices").last().find(".price-type").each(function(){var i=$("<li>"),k=$(this).find("span").eq(0).html(),l=$(this).find(".price-value"),j=$(this).find(".toggler a").first().html(),n=$("<a href='#' class='view-details'>"),m=$(this).find(".price-element-details").first().clone(),p=$("<span>"),o=$("<span>");
if(l.length>0){l=$(this).find(".price-value").first().html();}else{l="";}n.append(j,"<span class='more-less'>&nbsp;+</span>");p.append(k,n);o.html(l);i.append(p,o,m);
f.append(i);n.click(function(q){q.preventDefault();var r=$(this).parent().parent().find("ol").first(),t=$(this),s=$(this).find(".more-less");if(r.hasClass("hidden-low-prior")){r.removeClass("hidden-low-prior");
s.html("&nbsp;-");a();}else{r.addClass("hidden-low-prior");s.html("&nbsp;+");}});});$("#cart-total-price .prices-alternative > span").each(function(i){if(i==1){g+="<span class='amount'>"+$(this).html()+"</span>";
}if(i==0){g+="<span class='currency'>"+$(this).html()+"</span>";}});f.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+g+"</span></li>");
h.append(f);return h;};$(".cart-departing, .cart-arriving").each(function(){var g=[],j=$(this).find("li.city"),k=$(this).find("dd"),f=0,i=$(this).find("h4").first().html(),h=j.length-2;
j.each(function(m){var q=$(this).clone(),p=j.eq(m-1).clone();q.children().remove();p.children().remove();q=$.trim(q.html()).substr(1,3);p=$.trim(p.html()).substr(1,3);
if(m>0){var o=b(k.eq(f).html().split(" ")[2]),n=k.eq(f++).html().substr(0,7),l=k.eq(f++).html().substr(0,7);destination={from:p,to:q,date:o.day+", "+o.month,hourDep:n,hourArr:l};
g.push(destination);}});departing={stopover:h,destinations:g,actionTo:i};e.push(departing);});d(e);$("#modify-search-trigger").addClass("modify");$("#title-search").append($("#modify-search-trigger"));
$("#cart-component .flight-info-sidebar").append($("#fare-rules-anchor"));})();};