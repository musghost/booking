window.onload=function(){(function(){var d=false;$("#booking-process").addClass("active");$("#booking-process li").each(function(e){$(this).addClass(((e+1)%2===0)?"two":"one");
});$("#booking-process li").each(function(e){if(d){if($(this).hasClass("stepPast")){$(this).removeClass("stepPast").addClass("stepFuture");}if($(this).hasClass("stepPast_prevPast")){$(this).removeClass("stepPast_prevPast").addClass("stepFuture_prevFuture");
}if($(this).hasClass("prevPast")){$(this).removeClass("prevPast").addClass("prevFuture");}}if($(this).hasClass("stepCurrent")){d=true;}});})();var b=function(){var e=function(j){var i=["January","February","March","April","May","June","July","August","September","October","November","December"],l=j.split("/"),k={};
k.month=i[parseInt(l[1])-1];k.day=parseInt(l[0]);return k;},h=[],d=function(){var n=window.innerHeight,j=n-$("#footer").height(),i=$("#cart-component").height(),m=$("body").scrollTop(),k=$("#ROOT").height();
if(j<i){var l=window.innerHeight-$("#cnt_4").height();if(m>=(k-n-150)){l-=90;$("#cnt_4").css({position:"fixed",top:l+"px"});}else{$("#cnt_4").css({position:"fixed",top:l+"px"});
}}},g=function(m){var l=$("<div class='flight-info-sidebar'>"),j='<div class="head"><h2><i></i>Flight Information</h2></div>',i=$(".component-section.cart-pax").find("span"),k="",n=$("<h3 class='passenger'>");
i.each(function(o){if(o===0||o===1){k+=$(this).html();}});n.html(k);l.append(j);$.each(m,function(q,p){var o=$("<div class='body'>"),t=$("<h3>"),r=parseInt(p.stopover),s=$("<h3 class='scale'>");
if(q===0){t.attr("id","title-search");}t.html(p.actionTo);o.append(t);$.each(p.destinations,function(v,u){var x=$("<ul class='airp'>"),w=$("<h3 class='date'>");
w.html(u.date);x.append("<li><span>"+u.from+"</span><span>"+u.hourDep+"</span></li>");x.append("<li class='middle'><i></i></li>");x.append("<li><span>"+u.to+"</span><span>"+u.hourArr+"</span></li>");
o.append(w);o.append(x);});if(r===0||r<0){s.html("Nonstop");}else{if(r==1){s.html("1 layover");}else{s.html(r+" layovers");}}o.append(s);l.append(o);});
l.append(n);l.append(f());$("#cart-component").prepend(l);},f=function(){var k=$("<div class='total-price'>"),i=$("<ul>"),j="";$(".cartPrices").last().find(".price-type").each(function(){var l=$("<li>"),n=$(this).find("span").eq(0).html(),o=$(this).find(".price-value"),m=$(this).find(".toggler a").first().html(),q=$("<a href='#' class='view-details'>"),p=$(this).find(".price-element-details").first().clone(),s=$("<span>"),r=$("<span>");
if(o.length>0){o=$(this).find(".price-value").first().html();}else{o="";}q.append(m,"<span class='more-less'>&nbsp;+</span>");s.append(n,q);r.html(o);l.append(s,r,p);
i.append(l);q.click(function(t){t.preventDefault();var u=$(this).parent().parent().find("ol").first(),w=$(this),v=$(this).find(".more-less");if(u.hasClass("hidden-low-prior")){u.removeClass("hidden-low-prior");
v.html("&nbsp;-");d();}else{u.addClass("hidden-low-prior");v.html("&nbsp;+");}});});$("#cart-total-price .prices-alternative > span").each(function(l){if(l==1){j+="<span class='amount'>"+$(this).html()+"</span>";
}if(l==0){j+="<span class='currency'>"+$(this).html()+"</span>";}});i.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+j+"</span></li>");
k.append(i);return k;};$(".cart-departing, .cart-arriving").each(function(){var j=[],m=$(this).find("li.city"),n=$(this).find("dd"),i=0,l=$(this).find("h4").first().html(),k=m.length-2;
m.each(function(p){var t=$(this).clone(),s=m.eq(p-1).clone();t.children().remove();s.children().remove();t=$.trim(t.html()).substr(1,3);s=$.trim(s.html()).substr(1,3);
if(p>0){var r=e(n.eq(i).html().split(" ")[2]),q=n.eq(i++).html().substr(0,7),o=n.eq(i++).html().substr(0,7);destination={from:s,to:t,date:r.day+", "+r.month,hourDep:q,hourArr:o};
j.push(destination);}});departing={stopover:k,destinations:j,actionTo:l};h.push(departing);});g(h);$("#cart-component .flight-info-sidebar").append($("#fare-rules-anchor"));
$("#modify-search-trigger").addClass("modify");},a=function(){var e=$("#booking-process li").last();if(!e.hasClass("one")&&!e.hasClass("two")){var d=$("#booking-process li");
d.removeClass("one two");d.each(function(f){$(this).addClass(((f+1)%2===0)?"two":"one");});}if($(".flight-info-sidebar").length<1){$("#cart-component .component-top").append($("#modify-search-trigger"));
b();$("#title-search").append($("#modify-search-trigger"));}c=setTimeout(function(){a();},300);},c=setTimeout(function(){a();},300);};