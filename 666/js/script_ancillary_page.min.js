window.onload=function(){(function(){var d=false;$("#booking-process").addClass("active");$("#booking-process li").each(function(e){$(this).addClass(((e+1)%2===0)?"two":"one");
});$("#booking-process li").each(function(e){if(d){if($(this).hasClass("stepPast")){$(this).removeClass("stepPast").addClass("stepFuture");}if($(this).hasClass("stepPast_prevPast")){$(this).removeClass("stepPast_prevPast").addClass("stepFuture_prevFuture");
}if($(this).hasClass("prevPast")){$(this).removeClass("prevPast").addClass("prevFuture");}}if($(this).hasClass("stepCurrent")){d=true;}});})();var b=function(){var d=function(i){var h=["January","February","March","April","May","June","July","August","September","October","November","December"],k=i.split("/"),j={};
j.month=h[parseInt(k[1])-1];j.day=parseInt(k[0]);return j;},g=[],f=function(l){var k=$("<div class='flight-info-sidebar'>"),i='<div class="head"><h2><i></i>Flight Information</h2></div>',h=$(".component-section.cart-pax").find("span"),j="",m=$("<h3 class='passenger'>");
h.each(function(n){if(n===0||n===1){j+=$(this).html();}});m.html(j);k.append(i);$.each(l,function(p,o){var n=$("<div class='body'>"),s=$("<h3>"),q=parseInt(o.stopover),r=$("<h3 class='scale'>");
if(p===0){s.attr("id","title-search");}s.html(o.actionTo);n.append(s);$.each(o.destinations,function(u,t){var w=$("<ul class='airp'>"),v=$("<h3 class='date'>");
v.html(t.date);w.append("<li><span>"+t.from+"</span><span>"+t.hourDep+"</span></li>");w.append("<li class='middle'><i></i></li>");w.append("<li><span>"+t.to+"</span><span>"+t.hourArr+"</span></li>");
n.append(v);n.append(w);});if(q===0||q<0){r.html("Nonstop");}else{if(q==1){r.html("1 layover");}else{r.html(q+" layovers");}}n.append(r);k.append(n);});
k.append(m);k.append(e());$("#cart-component").prepend(k);},e=function(){var j=$("<div class='total-price'>"),h=$("<ul>"),i="";$(".cartPrices").last().find(".price-type").each(function(){var k=$("<li>"),l=$(this).find("span").eq(0).html(),m=$(this).find(".price-value");
if(m.length>0){m=$(this).find(".price-value").first().html();}else{m="";}k.append("<span>"+l+"</span>","<span>"+m+"</span>");h.append(k);});$("#cart-total-price .prices-alternative > span").each(function(k){if(k==1){i+="<span class='amount'>"+$(this).html()+"</span>";
}if(k==0){i+="<span class='currency'>"+$(this).html()+"</span>";}});h.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+i+"</span></li>");
j.append(h);return j;};$(".cart-departing, .cart-arriving").each(function(){var i=[],l=$(this).find("li.city"),m=$(this).find("dd"),h=0,k=$(this).find("h4").first().html(),j=l.length-2;
l.each(function(o){var s=$(this).clone(),r=l.eq(o-1).clone();s.children().remove();r.children().remove();s=$.trim(s.html()).substr(1,3);r=$.trim(r.html()).substr(1,3);
if(o>0){var q=d(m.eq(h).html().split(" ")[2]),p=m.eq(h++).html().substr(0,7),n=m.eq(h++).html().substr(0,7);destination={from:r,to:s,date:q.day+", "+q.month,hourDep:p,hourArr:n};
i.push(destination);}});departing={stopover:j,destinations:i,actionTo:k};g.push(departing);});f(g);$("#cart-component .flight-info-sidebar").append($("#fare-rules-anchor"));
$("#modify-search-trigger").addClass("modify");};$("#cart-component .component-top").append($("#modify-search-trigger"));b();$("#title-search").append($("#modify-search-trigger"));
var a=function(){var e=$("#booking-process li").last();if(!e.hasClass("one")&&!e.hasClass("two")){var d=$("#booking-process li");d.removeClass("one two");
d.each(function(f){$(this).addClass(((f+1)%2===0)?"two":"one");});}if($(".flight-info-sidebar").length<1){$("#cart-component .component-top").append($("#modify-search-trigger"));
b();$("#title-search").append($("#modify-search-trigger"));}c=setTimeout(function(){a();},300);};var c=setTimeout(function(){a();},300);};