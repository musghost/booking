window.onload=function(){$("#booking-process").addClass("active");$("#booking-process li").each(function(d){$(this).addClass(((d+1)%2===0)?"two":"one");
});(function(){$(".ancillary-component").after("<div class='ancillary-information'></div>");$(".ancillary-component").find(".ancillary-item").each(function(k){var d=$(this).attr("id"),i="",f=$(this).find(".prices-amount").first().clone(),l=$("<div class='ancillary-amount'>"),j=$(this).find(".prices-currency").first().clone(),h=$("<div class='ancillary-currency'>"),g=$(this).find(".ancillary-price-button-add").first().clone(),e=$("<div class='ancillary-body'>");
$(this).css("padding-bottom","130px");$(this).find(".ancillary-image").after("<div class='ancillary-icon ancillary-icon-"+d+"'><i></i></div>");switch(d){case"AMC":i='<div class="ancillary-text"><ul><li>Evita contratiempos en el aeropuerto, ahora puedes pagar de manera anticipada y el exceso de equipaje</li><li>Viaja de manera c&oacute;moda y con todo lo que necesitas.</li><li>Indica cu&aacute;ntaas piezas extras son las que llevar&aacute;s contigo.</li></ul></div>';
break;case"DPM":i='<div class="ancillary-text"><ul><li>¡Disfruta al m&aacute;ximo tu viaje! Lleva contigo tu equipo deportivo.</li><li>Contamos con el mejor sistema de transportaci&oacute;n para el manejo de equipaje especial.</li><li>Selecciona el tipo de equipaje que llevar&iacute;s en tu vuelo.</li></ul></div>';
break;case"BG_PCS":i='<div class="ancillary-text"><ul><li>S&oacute;lo Aerom&eacute;xico te permite viajar con tu mascota a bordo.</li><li>Lleva a tu perro de viaje.</li><li>Disfruta de tus vacaciones a lado de tu mejor amigo.</li></ul></div>';
break;case"AMK":i='<div class="ancillary-text"><ul><li>Una experiencia &uacute;nica al alcance de todos, s&oacute;lo con una llamada consigue servicios exclusivos en el destino al que te dirijas.</li></ul></div>';
break;case"CO2":i='<div class="ancillary-text"><ul><li>Participa, tu donación contribuye a conservar la Selva Maya.</li></ul></div>';break;default:i='<div class="ancillary-text"><ul></ul></div>';
}$(this).find(".ancillary-name").after(i);l.append("<span>$</span>",f);h.append(j);e.append(l,h,g);$(this).find(".ancillary-text").after(e);$(".ancillary-price-widget").css("display","none");
});})();var b=function(){var g=[],e=[],p=$(".cart-pax span").eq(1).html(),d=function(s){var i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u=s.split("/"),t={};
t.month=i[parseInt(u[1])-1];t.day=parseInt(u[0]);return t;};$("#cart_itinerariesDetails .cart-departing .cart_itinerariesDetails_itinerary .city").each(function(t){var i={},v=$(this).next().find("dd").first().html().split(" "),s=v[0],x=v[2],u=$(this).clone();
u.children().remove();var w=$.trim(u.html());i.date=x;i.hour=s;i.city=w.substr(1,3);console.log(x,s,w);g.push(i);});$("#cart_itinerariesDetails .cart-arriving .cart_itinerariesDetails_itinerary .city").each(function(t){var i={},v=$(this).next().find("dd").first().html().split(" "),s=v[0],x=v[2],u=$(this).clone();
u.children().remove();var w=$.trim(u.html());i.date=x;i.hour=s;i.city=w.substr(1,3);e.push(i);});$("#cart-component").prepend('<div class="flight-info-sidebar"><div class="head"><h2><i></i>Informaci&oacute;n de vuelo</h2></div><div class="total-price"><ul></ul></div></div>');
var j=$("<div class='body'>"),n=new Date(),q=n.getFullYear(),m=$("<h3 id='title-search'>");m.append("Voy");j.append(m);for(var f=0;f<g.length-1;f++){var k='<h3 class="date">'+d(g[f]["date"])["day"]+" "+d(g[f]["date"])["month"]+", "+q+"</h3>",o=$("<ul class='airp'>");
o.append("<li><span>"+g[f]["city"]+"</span><span>"+g[f]["hour"]+"</span></li><li class='middle'><i></i></li><li><span>"+g[f+1]["city"]+"</span><span>"+g[f+1]["hour"]+"</span></li>");
j.append(k,o);}if(g.length>2){j.append("<h3 class='scale'>"+(g.length-1)+" escalas</h3><h3 class='passenger'>"+p+" pasajeros</h3>");}else{j.append("<h3 class='scale'>Sin escalas</h3><h3 class='passenger'>"+p+" pasajeros</h3>");
}var r=$("<div class='body'>"),n=new Date(),q=n.getFullYear();r.append("<h3>Vuelvo</h3>");for(var f=0;f<e.length-1;f++){var k='<h3 class="date">'+d(e[f]["date"])["day"]+" "+d(e[f]["date"])["month"]+", "+q+"</h3>",o=$("<ul class='airp'>");
o.append("<li><span>"+e[f]["city"]+"</span><span>"+e[f]["hour"]+"</span></li><li class='middle'><i></i></li><li><span>"+e[f+1]["city"]+"</span><span>"+e[f+1]["hour"]+"</span></li>");
r.append(k,o);}if(e.length>2){r.append("<h3 class='scale'>"+(e.length-1)+" escalas</h3><h3 class='passenger'>"+p+" pasajeros</h3>");}else{r.append("<h3 class='scale'>Sin escalas</h3><h3 class='passenger'>"+p+" pasajeros</h3>");
}r.append('<ul class="info"><li><i class="mercury"></i><span>32º</span></li><li><i class="wind"></i><span>18<sub>km/h</sub></span></li><li><i class="water"></i><span>27%</span></li></ul>');
$("#cart-component .flight-info-sidebar .head").first().after(j,r);var l=$("#cart-component .flight-info-sidebar .total-price ul").first(),h="";$(".cartPrices").last().find(".price-type").each(function(){var i=$("<li>"),s=$(this).find("span").eq(0).html(),t=$(this).find(".price-value");
if(t.length>0){t=$(this).find(".price-value").first().html();}else{t="";}i.append("<span>"+s+"</span>","<span>"+t+"</span>");l.append(i);});$("#cart-total-price .prices-alternative > span").each(function(i){if(i==1){h+="<span class='amount'>"+$(this).html()+"</span>";
}if(i==0){h+="<span class='currency'>"+$(this).html()+"</span>";}});l.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+h+"</span></li>");
$("#cart-component .flight-info-sidebar").append($("#fare-rules-anchor"));$("#modify-search-trigger").addClass("modify");};$("#cart-component .component-top").append($("#modify-search-trigger"));
b();$("#title-search").append($("#modify-search-trigger"));var a=function(){var e=$("#booking-process li").last();if(!e.hasClass("one")&&!e.hasClass("two")){var d=$("#booking-process li");
d.removeClass("one two");d.each(function(f){$(this).addClass(((f+1)%2===0)?"two":"one");});}if($(".flight-info-sidebar").length<1){b();}c=setTimeout(function(){a();
},300);};var c=setTimeout(function(){a();},300);};