window.onload=function(){$("#booking-process").addClass("active");$("#booking-process li").each(function(e){$(this).addClass(((e+1)%2===0)?"two":"one");
});$(".flight-info").each(function(e){if(e===0){$(this).prepend("<span class='step'>A</span>");}else{$(this).prepend("<span class='step'>B</span>");}});
$(".flight-info h2").eq(0).html("Opciones del vuelo de salida");$(".flight-info h2").eq(1).html("Opciones del vuelo de regreso");var c=[];$(".flight-info dl").each(function(){var h=$(this).find("dd").clone();
h.children().remove();var g=$.trim(h.eq(0).html()),e=$.trim(h.eq(1).html()),f={};f.nodea=g.substr(1,3);f.nodeb=e.substr(1,3);c.push(f);});var b=function(){var j=[],g=[],r=$(".cart-pax span").eq(1).html(),f=function(u){var i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],w=u.split("/"),v={};
v.month=i[parseInt(w[1])-1];v.day=parseInt(w[0]);return v;};$("#cart_itinerariesDetails .cart-departing .cart_itinerariesDetails_itinerary .city").each(function(v){var i={},x=$(this).next().find("dd").first().html().split(" "),u=x[0],z=x[2],w=$(this).clone();
w.children().remove();var y=$.trim(w.html());i.date=z;i.hour=u;i.city=y.substr(1,3);console.log(z,u,y);j.push(i);});$("#cart_itinerariesDetails .cart-arriving .cart_itinerariesDetails_itinerary .city").each(function(v){var i={},x=$(this).next().find("dd").first().html().split(" "),u=x[0],z=x[2],w=$(this).clone();
w.children().remove();var y=$.trim(w.html());i.date=z;i.hour=u;i.city=y.substr(1,3);g.push(i);});$("#cart-component").prepend('<div class="flight-info-sidebar"><div class="head"><h2><i></i>Informaci&oacute;n de vuelo</h2></div><div class="total-price"><ul></ul></div></div>');
var l=$("<div class='body'>"),p=new Date(),s=p.getFullYear(),e=$("#modify-search-trigger").clone(),o=$("<h3>");$("#modify-search-trigger").remove();e.addClass("modify");
o.append("Voy",e);l.append(o);for(var h=0;h<j.length-1;h++){var m='<h3 class="date">'+f(j[h]["date"])["day"]+" "+f(j[h]["date"])["month"]+", "+s+"</h3>",q=$("<ul class='airp'>");
q.append("<li><span>"+j[h]["city"]+"</span><span>"+j[h]["hour"]+"</span></li><li class='middle'><i></i></li><li><span>"+j[h+1]["city"]+"</span><span>"+j[h+1]["hour"]+"</span></li>");
l.append(m,q);}if(j.length>2){l.append("<h3 class='scale'>"+(j.length-1)+" escalas</h3><h3 class='passenger'>"+r+" pasajeros</h3>");}else{l.append("<h3 class='scale'>Sin escalas</h3><h3 class='passenger'>"+r+" pasajeros</h3>");
}var t=$("<div class='body'>"),p=new Date(),s=p.getFullYear();t.append("<h3>Vuelvo</h3>");for(var h=0;h<g.length-1;h++){var m='<h3 class="date">'+f(g[h]["date"])["day"]+" "+f(g[h]["date"])["month"]+", "+s+"</h3>",q=$("<ul class='airp'>");
q.append("<li><span>"+g[h]["city"]+"</span><span>"+g[h]["hour"]+"</span></li><li class='middle'><i></i></li><li><span>"+g[h+1]["city"]+"</span><span>"+g[h+1]["hour"]+"</span></li>");
t.append(m,q);}if(g.length>2){t.append("<h3 class='scale'>"+(g.length-1)+" escalas</h3><h3 class='passenger'>"+r+" pasajeros</h3>");}else{t.append("<h3 class='scale'>Sin escalas</h3><h3 class='passenger'>"+r+" pasajeros</h3>");
}t.append('<ul class="info"><li><i class="mercury"></i><span>32ยบ</span></li><li><i class="wind"></i><span>18<sub>km/h</sub></span></li><li><i class="water"></i><span>27%</span></li></ul>');
$("#cart-component .flight-info-sidebar .head").first().after(l,t);var n=$("#cart-component .flight-info-sidebar .total-price ul").first(),k="";$(".cartPrices").last().find(".price-type").each(function(){var i=$("<li>"),u=$(this).find("span").eq(0).html(),v=$(this).find(".price-value");
if(v.length>0){v=$(this).find(".price-value").first().html();}else{v="";}i.append("<span>"+u+"</span>","<span>"+v+"</span>");n.append(i);});$("#cart-total-price .prices-alternative > span").each(function(i){if(i==1){return false;
}k+=$(this).html();});n.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+k+"</span></li>");};var a=function(){var f=$("#booking-process li").last();
if($("#dtcontainer-outbounds ul.airp").length<1){$("#dtcontainer-outbounds table tr").each(function(i){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(i===0){var j=$(this).find("th");j.eq(0).hide();j.eq(1).hide();j.eq(2).hide();j.eq(3).hide();j.eq(4).width("190px");}else{var k=$(this).find("td");
k.eq(0).hide();k.eq(1).hide();k.eq(2).hide();k.eq(3).hide();var h=k.eq(2).find("span").html(),g=k.eq(3).find("span").html(),l=$.trim(k.eq(4).html());k.eq(4).html('<ul class="airp"><li><span>'+c[0]["nodea"]+"</span><span>"+h+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+g+'</span></li></ul><h3 class="scale">Sin escalas</h3><a class="info-plus"><i></i><span>M&aacute;s informaci&oacute;n de vuelo</span></a>');
}});$(".flight-info-sidebar").remove();b();}if($("#dtcontainer-inbounds ul.airp").length<1){$("#dtcontainer-inbounds table tr").each(function(i){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(i===0){var j=$(this).find("th");j.eq(0).hide();j.eq(1).hide();j.eq(2).hide();j.eq(3).hide();j.eq(4).width("190px");}else{var k=$(this).find("td");
k.eq(0).hide();k.eq(1).hide();k.eq(2).hide();k.eq(3).hide();var h=k.eq(2).find("span").html(),g=k.eq(3).find("span").html(),l=$.trim(k.eq(4).html());k.eq(4).html('<ul class="airp"><li><span>'+c[0]["nodea"]+"</span><span>"+h+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+g+'</span></li></ul><h3 class="scale">Sin escalas</h3><a class="info-plus"><i></i><span>M&aacute;s informaci&oacute;n de este vuelo</span></a>');
}});$(".flight-info-sidebar").remove();b();}if(!f.hasClass("one")&&!f.hasClass("two")){var e=$("#booking-process li");e.removeClass("one two");e.each(function(g){$(this).addClass(((g+1)%2===0)?"two":"one");
});}d=setTimeout(function(){a();},300);},d=setTimeout(function(){a();},300);(function(){$(".seats-remaining").each(function(){var e=$(this).html().split(" ")[0];
$(this).html("!S&oacute;lo quedan "+e+"!");});$("#customhtmlDisclosure").prepend("<i></i>");})();(function(){$(".ancillary-component").find(".ancillary-item").each(function(e){var f=$(this).attr("id");
$(this).find(".ancillary-image").after("<div class='ancillary-icon ancillary-icon-"+f+"'><i></i></div>");});})();};