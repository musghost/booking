window.onload=function(){$("#booking-process").addClass("active");$("#booking-process li").each(function(e){$(this).addClass(((e+1)%2===0)?"two":"one");
});$(".flight-info").each(function(e){if(e===0){$(this).prepend("<span class='step'>A</span>");}else{$(this).prepend("<span class='step'>B</span>");}});
$(".flight-info h2").eq(0).html("Opciones del vuelo de salida");$(".flight-info h2").eq(1).html("Opciones del vuelo de regreso");var c=[];$(".flight-info dl").each(function(){var h=$(this).find("dd").clone();
h.children().remove();var g=$.trim(h.eq(0).html()),e=$.trim(h.eq(1).html()),f={};f.nodea=g.substr(1,3);f.nodeb=e.substr(1,3);c.push(f);});var b=function(){var e=function(j){var i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],l=j.split("/"),k={};
k.month=i[parseInt(l[1])-1];k.day=parseInt(l[0]);return k;},h=[],g=function(k){var j=$("<div class='flight-info-sidebar'>"),i='<div class="head"><h2><i></i>Informaci√≥n de vuelo</h2></div>';
j.append(i);$.each(k,function(n,m){var l=$("<div class='body'>"),o=$("<h3>");o.html("Voy");l.append(o);$.each(m.destinations,function(q,p){var s=$("<ul class='airp'>"),r=$("<h3>");
r.html(p.date);s.append("<li><span>"+p.from+"</span><span>"+p.hourDep+"</span></li>");s.append("<li class='middle'><i></i></li>");s.append("<li><span>"+p.to+"</span><span>"+p.hourArr+"</span></li>");
l.append(r);l.append(s);});j.push(l);});j.append(f());},f=function(){var k=$("<div class='total-price'>"),i=$("<ul>"),j="";$(".cartPrices").last().find(".price-type").each(function(){var l=$("<li>"),m=$(this).find("span").eq(0).html(),n=$(this).find(".price-value");
if(n.length>0){n=$(this).find(".price-value").first().html();}else{n="";}l.append("<span>"+m+"</span>","<span>"+n+"</span>");i.append(l);});$("#cart-total-price .prices-alternative > span").each(function(l){if(l==1){j+="<span class='amount'>"+$(this).html()+"</span>";
}if(l==0){j+="<span class='currency'>"+$(this).html()+"</span>";}});i.append("<li><span>"+$("#total-price-label").html()+"</span><span>"+j+"</span></li>");
k.append(i);return k;};$(".cart-departing").each(function(){var j=[],l=$(this).find("li.city"),m=$(this).find("dd"),i=0,k=l.length-2;l.each(function(o){var s=$(this).clone(),r=l.eq(o-1).clone();
s.children().remove();r.children().remove();s=$.trim(s.html()).substr(1,3);r=$.trim(r.html()).substr(1,3);if(o>0){var q=e(m.eq(i).html().split(" ")[2]),p=m.eq(i++).html().substr(0,7),n=m.eq(i++).html().substr(0,7);
destination={from:r,to:s,date:q.day+", "+q.month,hourDep:p,hourArr:n};j.push(destination);}});departing={stopover:k,destinations:j};h.push(departing);});
g(h);};var a=function(){var f=$("#booking-process li").last();if($("#dtcontainer-outbounds ul.airp").length<1){$("#dtcontainer-outbounds table tr").each(function(i){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(i===0){var k=$(this).find("th");k.eq(1).hide();k.eq(2).hide();k.eq(3).hide();k.eq(4).hide();k.eq(5).hide();k.eq(0).width("190px");}else{var m=$(this).find("td");
m.eq(5).hide();m.eq(4).hide();m.eq(1).hide();m.eq(2).hide();m.eq(3).hide();var h=m.eq(2).find("span").html(),g=m.eq(3).find("span").html(),n=$.trim(m.eq(4).html());
console.log("hour1: "+h+", typeof:"+(typeof h));console.log("hour2: "+g+", typeof:"+(typeof g));var l=$("<ul class='airp'>"),j=$('<h3 class="scale">');
l.html("<li><span>"+c[0]["nodea"]+"</span><span>"+h+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+g+"</span></li>");
j.html("Sin escalas");if($(this).attr("id")==="flight-advisory-outbound-row"){$(this).remove();return;}m.eq(0).prepend(l,j);$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo</span>");
}});$("#cart-component .component-top").append($("#fare-rules-anchor"),$("#modify-search-trigger"));$(".flight-info-sidebar").remove();b();$(".flight-info-sidebar").first().append($("#fare-rules-anchor"));
$("#title-search").append($("#modify-search-trigger"));}if($("#dtcontainer-inbounds ul.airp").length<1){$("#dtcontainer-inbounds table tr").each(function(i){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(i===0){var k=$(this).find("th");k.eq(1).hide();k.eq(2).hide();k.eq(3).hide();k.eq(4).hide();k.eq(5).hide();k.eq(0).width("190px");}else{var m=$(this).find("td");
m.eq(5).hide();m.eq(4).hide();m.eq(1).hide();m.eq(2).hide();m.eq(3).hide();var h=m.eq(2).find("span").html(),g=m.eq(3).find("span").html(),n=$.trim(m.eq(4).html());
console.log("hour1: "+h+", typeof:"+(typeof h));console.log("hour2: "+g+", typeof:"+(typeof g));var l=$("<ul class='airp'>"),j=$('<h3 class="scale">');
l.html("<li><span>"+c[0]["nodeb"]+"</span><span>"+h+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodea"]+"</span><span>"+g+"</span></li>");
j.html("Sin escalas");if($(this).attr("id")==="flight-advisory-inbound-row"){$(this).remove();return;}m.eq(0).prepend(l,j);$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo</span>");
}});$("#cart-component .component-top").append($("#fare-rules-anchor"),$("#modify-search-trigger"));$(".flight-info-sidebar").remove();b();$(".flight-info-sidebar").first().append($("#fare-rules-anchor"));
$("#title-search").append($("#modify-search-trigger"));}if($("#dtcontainer-both ul.airp").length<1){$("#dtcontainer-both table tr").each(function(i){$(this).find(".prices-amount").each(function(){$(this).prepend("<span>$</span>");
});if(i===0){var k=$(this).find("th");k.eq(1).hide();k.eq(2).hide();k.eq(3).hide();k.eq(4).hide();k.eq(5).hide();k.eq(0).width("190px");}else{var m=$(this).find("td");
m.eq(5).hide();m.eq(4).hide();m.eq(1).hide();m.eq(2).hide();m.eq(3).hide();var h=m.eq(2).find("span").html(),g=m.eq(3).find("span").html(),n=$.trim(m.eq(4).html());
console.log("hour1: "+h+", typeof:"+(typeof h));console.log("hour2: "+g+", typeof:"+(typeof g));var l=$("<ul class='airp'>"),j=$('<h3 class="scale">');
l.html("<li><span>"+c[0]["nodea"]+"</span><span>"+h+'</span></li><li class="middle"><i></i></li><li><span>'+c[0]["nodeb"]+"</span><span>"+g+"</span></li>");
j.html("Sin escalas");if($(this).attr("id")==="flight-advisory-both-row"){$(this).remove();return;}m.eq(0).prepend(l,j);$(this).find("a").addClass("info-plus").html("<i></i><span>M&aacute;s informaci&oacute;n de vuelo</span>");
}});}if(!f.hasClass("one")&&!f.hasClass("two")){var e=$("#booking-process li");e.removeClass("one two");e.each(function(g){$(this).addClass(((g+1)%2===0)?"two":"one");
});}d=setTimeout(function(){},300);},d=setTimeout(function(){a();},300);(function(){$(".seats-remaining").each(function(){var e=$(this).html().split(" ")[0];
$(this).html("!S&oacute;lo quedan "+e+"!");});$("#customhtmlDisclosure").prepend("<i></i>");})();(function(){$(".ancillary-component").find(".ancillary-item").each(function(e){var f=$(this).attr("id");
$(this).find(".ancillary-image").after("<div class='ancillary-icon ancillary-icon-"+f+"'><i></i></div>");});})();};