var currencySymbolStartTag="messageCurrencySymbol@";var currencySymbolEndTag="@messageCurrencySymbol";var brandLabelStartTag="messageBrandFareLabel@";var brandLabelEndTag="@messageBrandFareLabel";var currencyStartTag="messageCurrencyName@";var currencyEndTag="@messageCurrencyName";var secSortColStartTag="secSortColVal@";var secSortColEndTag="@secSortColVal";var sortColStartTag="sortColVal@";var sortColEndTag="@sortColVal";var advMsgSplitterTag="@splitter@";if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}sswJQuery.fn.dataTableExt.oSort["price-asc"]=function(d,c){var e=customPrice(d)-customPrice(c);return(e==0)?(getSecSortColVal(d)-getSecSortColVal(c)):e};sswJQuery.fn.dataTableExt.oSort["price-desc"]=function(d,c){var e=customPrice(c)-customPrice(d);return(e==0)?(getSecSortColVal(d)-getSecSortColVal(c)):e};getSecSortColVal=function(a){return new Date("01/01/1970 "+a.substring(((+a.indexOf(secSortColStartTag))+(+secSortColStartTag.length)),(+a.indexOf(secSortColEndTag))))};customPrice=function(a){try{if(a.indexOf(sortColStartTag)==-1){return parseFloat(999999)}var c=a.substring(((a.indexOf(sortColStartTag))+(sortColStartTag.length)),(a.indexOf(sortColEndTag)));return(isNaN(c))?parseFloat(999999):parseFloat(c)}catch(b){return parseFloat(999999)}};sswJQuery.fn.dataTableExt.oSort["time-asc"]=function(d,c){return customTimeStamp(d)-customTimeStamp(c)};sswJQuery.fn.dataTableExt.oSort["time-desc"]=function(d,c){return customTimeStamp(c)-customTimeStamp(d)};customTimeStamp=function(a){return new Date("01/01/1970 "+a.substring(((+a.indexOf(sortColStartTag))+(+sortColStartTag.length)),(+a.indexOf(sortColEndTag))))};sswJQuery.fn.dataTableExt.oSort["stops-asc"]=function(d,c){var e=getStops(d)-getStops(c);return(e==0)?(getSecSortColVal(d)-getSecSortColVal(c)):e};sswJQuery.fn.dataTableExt.oSort["stops-desc"]=function(d,c){var e=getStops(c)-getStops(d);return(e==0)?(getSecSortColVal(d)-getSecSortColVal(c)):e};getStops=function(a){return a.substring(((+a.indexOf(sortColStartTag))+(+sortColStartTag.length)),(+a.indexOf(sortColEndTag)))};addRecapUpsellRowOnLoad=function(g,e){var a=document.getElementById(g);var k=a.rows;for(var c=0;c<k.length;c++){var h=k[c];for(var b=0;b<h.cells.length;b++){var f=h.cells[b];var d=f.getElementsByTagName("input");if(d.length>0&&d[0].type=="radio"&&d[0].checked){setFareObjs(e,h,d[0]);break}}}setRecapUpsell(g,e)};setFareObjs=function(b,c,a){if(b=="out"&&outFareInputObj==null){outFareInputObj=a}else{if(b=="in"&&inFareInputObj==null){inFareInputObj=a}}};setRecapUpsell=function(a,b){if(b=="out"&&outFareInputObj){outFareInputObj.checked=true;addRecapUpsellRow(a,outFareInputObj,b)}else{if(b=="in"&&inFareInputObj){inFareInputObj.checked=true;addRecapUpsellRow(a,inFareInputObj,b)}}};addRecapUpsellRow=function(l,m,f){(f=="out")?outFareInputObj=m:inFareInputObj=m;var a=document.getElementById(l);var d=false;var k=a.rows.length;for(var c=0;c<k;c++){var n=a.rows[c];if(n.type=="reCapMessage"&&!d){deleteTableRow(a,c);d=true;k--;c--}for(var b=0;b<n.cells.length;b++){var h=n.cells[b];var e=h.getElementsByTagName("input");if(e.length>0&&e[0].type=="radio"&&e[0].checked){var g=getRecapUpsellRow(l,n,b);if(g){n.parentNode.insertBefore(g,n.nextSibling);k++;c++}}}}};getRecapUpsellRow=function(d,g,b){if(!isRecapUpsellEnabled){return null}var a=document.getElementById(d);var c=document.createElement("tr");c.type="reCapMessage";var e=document.createElement("td");e.colSpan=parseInt(g.cells.length)-2;e.className="font_default_center recapMessageRow";var f=getMessage(d,g,b);if(!f){return null}e.innerHTML="<div class='recapMessageRowDiv'><div>"+f+"</div><div class='recapMessageCloseBtn' onClick='closeRecapMessage(\""+d+"\");'></div></div>";c.appendChild(e);return c};getMessage=function(d,g,c){var h=document.getElementById(g.cells[c].getAttribute("recap")).innerHTML;var a=null;var f=null;var e=g.cells[c];if(fareOrderFromLeft=="leastExpensive"){for(var b=c;b<g.cells.length;b++){if(g.cells[b+1]&&g.cells[b+1].getElementsByTagName("input").length>0){a=document.getElementById(g.cells[b+1].getAttribute("upsell")).innerHTML;e=(a.trim()=="")?g.cells[c]:g.cells[b+1];break}}}else{for(var b=c;b>brandFareColInitIndex;b--){if(g.cells[b-1]&&g.cells[b-1].getElementsByTagName("input").length>0){a=document.getElementById(g.cells[b-1].getAttribute("upsell")).innerHTML;e=(a.trim()=="")?g.cells[c]:g.cells[b-1];break}}}sswJQuery(g.cells[c]).parent().parent().find(".recap_column").removeClass("recap_column");if(a&&a.trim()!=""){f=a}else{if(h&&h.trim()!=""){f=h}else{return null}}return translateMessage(d,g.cells[c],e,f)};translateMessage=function(k,b,h,c){try{var i=h.innerHTML;var e=b.innerHTML;var j=i.substring(((+i.indexOf(currencyStartTag))+(+currencyStartTag.length)),(+i.indexOf(currencyEndTag)));var g=i.substring(((+i.indexOf(currencySymbolStartTag))+(+currencySymbolStartTag.length)),(+i.indexOf(currencySymbolEndTag)));var a=i.substring(((+i.indexOf(brandLabelStartTag))+(+brandLabelStartTag.length)),(+i.indexOf(brandLabelEndTag)));var f=(currPrecision.split(".")[1])?((+customPrice(i))-(+customPrice(e))).toFixed(currPrecision.split(".")[1].length):((+customPrice(i))-(+customPrice(e))).toFixed(0);f=delimiterAmt(f);h.className+=" recap_column";return c.replace("%1",a).replace("%2",g+f+" "+j)}catch(d){return null}};delimiterAmt=function(e){if(formatAmt){e+="";var b=e.split(".");var d=b[0];var c=b.length>1?"."+b[1]:"";var a=/(\d+)(\d{3})/;while(a.test(d)){d=d.replace(a,"$1,$2")}return d+c}else{return e}};closeRecapMessage=function(c){var a=document.getElementById(c);var d=a.rows.length;for(var b=0;b<d;b++){var e=a.rows[b];if(e.type=="reCapMessage"){a.deleteRow(b);sswJQuery("#"+c).children().find(".recap_column").removeClass("recap_column");break}}};deleteTableRow=function(a,b){a.deleteRow(b)};addAdvisoryMessageRow=function(f){var a=document.getElementById(f);var h=a.rows;var k=sswJQuery("#"+f+" thead tr")[0].getElementsByTagName("th").length;for(var d=0;d<a.rows.length;d++){var g=h[d];var e=g.cells[0].innerHTML;if(e.length!=0&&e.indexOf(advMsgSplitterTag)>-1){var c=e.split(advMsgSplitterTag);if(c.length>0){for(var b=0;b<c.length;b++){if(c[b].trim()!=""){g.parentNode.insertBefore(getAdvisoryMessageRow(g,c[b]),g.nextSibling)}}}}}};getAdvisoryMessageRow=function(d,b){var a=document.createElement("tr");a.className=d.className;a.type="advisoryMessage";var c=document.createElement("td");c.colSpan=parseInt(d.cells.length)-2;c.className=" font_default_center";c.innerHTML=b;a.appendChild(c);return a};